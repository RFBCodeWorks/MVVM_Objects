## RFBCodeWorks.WPF.WebView2Integration

This is a helper namespace to allow MVVM binding to navigation events generated by the Microsoft WebView2 object

### IWebView2NavigationHandler
- This interface is used to react to the NavigationStarted and NavigationCompleted events generated by WebView2.

### IWebView2NavigationHandlerExpanded
- This interface expands the amount of event handlers that are implemented, 

### WebView2BindingHelper
- This is a FrameWorkElement that must be added to the XAML to facilitate the event binding.
- Bind the WebView and an IWebView2NavigationHandler to allow for MVVM handling of the WebView2 navigation events.
- This object has a strong reference to the WebView2 object, as it must listen to the events.
- The IWebView2NavigationHandler methods are invoked when a WebView2 event occurs, and are not directly tied to the WebView2 control, facilitating a weak reference methodology via the binding.

### NavigationHandler
- Provides the NavigationHandler class that implements the required interface to allow for easy integration into existing viewmodels. 
   - Add the NavigationHandler to your viewmodel, then assign it the event delegate you wish to invoke when the event occurs.
   - Finally, bind it all in xaml using the WebView2BindingHelper xaml object

- Using this class, you can structure your ViewModel in such a way that all events are available to react against, but you only need to implement the desired few.

## Example Usage:

xmlns:MyWebView="clr-namespace:RFBCodeWorks.WPF.WebView2Integration;assembly=RFBCodeWorks.WPF.WebView2Integration"

<grid>

<WebView:WebView2
    x:Name="WV"
    Source="{Binding InitialSource}"
    />

<MyWebView:WebView2BindingHelper 
    WebView="{Binding ElementName=WV}" 
    NavigationHandler="{Binding NavigationHandler}"/>

</grid>

------

MyNavHandler = new NavigationHandler()
{
    NavigationStartingHandler = PreventPageNavigation,
    NavigationCompletedHandler = OnNavigationComplete,
};

private void PreventPageNavigation(object sender, CoreWebView2NavigationStartingEventArgs e)
{
    e.Cancel = true;
}

private void OnNavigationComplete(object sender, EventArgs e)
{
    // do something
}